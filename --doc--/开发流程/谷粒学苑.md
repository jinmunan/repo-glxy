# 谷粒学院

## 系统后台

![image-20220622110015818](谷粒学苑.assets/image-20220622110015818.png)

- 讲师管理模块

- 课程分类管理模块

- 课程管理模块

- 统计分析模块

- 订单管理

- banner管理

- 权限管理

## 系统前台

![image-20220622110004456](谷粒学苑.assets/image-20220622110004456.png)

- 首页数据管理模块

- 讲师列表和详情

- 课程列表和课程详情

- 登陆和注册功能

- 微信扫描登录

- 微信扫描支付

# 项目开发技术

前后端分离开发

## 后端技术

![image-20220622110429024](谷粒学苑.assets/image-20220622110429024.png)

springboot

springcloud

mybatisplus

springsecurity

redis

maven

easyexcel

jwt

oauth2

## 前端技术

![image-20220622110243981](谷粒学苑.assets/image-20220622110243981.png)

vue

element-ui

axios

nodejs

## 其他技术

阿里云oos

阿里云视频点播服务

阿里云短信服务

docker

微信支付和登录

git

jenkins

# Mybatis-plus文档

https://baomidou.com/

## 主键策略雪花算法

业务分库`无法使用join`、`事务一致性问题`、`服务器成本问题`

主从复制和读写分离

数据库分表`垂直拆分`、`水平拆分`

```java
@TableId(typer = IdType.ADDIGN_ID)
private String id;
```

## 公共字段自动填充

像创建人、创建时间、修改人、修改时间等等

```java
@TableField(fill = FieldFill.INSERT)
private LocalDateTime createTime;

数据库id使用bigint类型，长度设置为20
```

## 乐观锁插件

```java
// 插件综合体
@Bean
public MybatisPlusInterceptor mybatisPlusInterceptor() {
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
    // 分页插件
    interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
    // 乐观锁
    interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());
    return interceptor;
}
```

## 分页插件

```java
@Test
public void page(){
    Page<User> page = new Page<User>(1,3);
    Page<User> userPage = userMapper.selectPage(page,null);
    List<User> records = userPage.getRecords();
    records.forEach(System.out::println);

}


// 去除不必要的字段
@Test
public void pageMap(){
    QueryWrapper<User> queryWrapper = new QueryWrapper<>();
    queryWrapper.select("id", "name");
    Page<Map<String,Object>> page = new Page<>(1,3);
    Page<Map<String, Object>> param = userMapper.selectMapsPage(page, queryWrapper);
    List<Map<String, Object>> records = param.getRecords();
    records.forEach(System.out::println);
}
```

## 逻辑删除

```java
ALTER TABLE `user` ADD COLUMN `deleted` boolean DEFAULT FALSE

// j
@TableLogic
private Integer deleted;
```





# 项目全局配置

## 一、JDK

compiler`java8` 

## 二、编码

file encoding `UTF-8`

## 三、maven

`仓库`

